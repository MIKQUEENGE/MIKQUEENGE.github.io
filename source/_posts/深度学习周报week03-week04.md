---
title: 深度学习周报week03-week04
toc: true
date: 2018-05-12 09:20:23
categories:
- deep learning
tags:
- Tmux
---

## Tmux ：终端分割

> tmux是指通过一个终端登录远程主机并运行后，在其中可以开启多个控制台的终端复用软件。

### 常用快捷键

`Ctrl+b ：激活控制台；此时以下按键生效`

#### 系统操作

| ?      | 列出所有快捷键；按q返回                                      |
| ------ | ------------------------------------------------------------ |
| d      | 脱离当前会话；这样可以暂时返回Shell界面，输入tmux attach能够重新进入之前的会话 |
| D      | 选择要脱离的会话；在同时开启了多个会话时使用                 |
| Ctrl+z | 挂起当前会话                                                 |
| r      | 强制重绘未脱离的会话                                         |
| s      | 选择并切换会话；在同时开启了多个会话时使用                   |
| :      | 进入命令行模式；此时可以输入支持的命令，例如kill-server可以关闭服务器 |
| [      | 进入复制模式；此时的操作与vi/emacs相同，按q/Esc退出          |
| ~      | 列出提示信息缓存；其中包含了之前tmux返回的各种提示信息       |

#### 窗口操作

| c      | 创建新窗口                           |
| ------ | ------------------------------------ |
| &      | 关闭当前窗口                         |
| 数字键 | 切换至指定窗口                       |
| p      | 切换至上一窗口                       |
| n      | 切换至下一窗口                       |
| l      | 在前后两个窗口间互相切换             |
| w      | 通过窗口列表切换窗口                 |
| ,      | 重命名当前窗口；这样便于识别         |
| .      | 修改当前窗口编号；相当于窗口重新排序 |
| f      | 在所有窗口中查找指定文本             |

#### 面板操作

| ”           | 将当前面板平分为上下两块                                     |
| ----------- | ------------------------------------------------------------ |
| %           | 将当前面板平分为左右两块                                     |
| x           | 关闭当前面板                                                 |
| !           | 将当前面板置于新窗口；即新建一个窗口，其中仅包含当前面板     |
| Ctrl+方向键 | 以1个单元格为单位移动边缘以调整当前面板大小                  |
| Alt+方向键  | 以5个单元格为单位移动边缘以调整当前面板大小                  |
| Space       | 在预置的面板布局中循环切换；依次包括even-horizontal、even-vertical、main-horizontal、main-vertical、tiled |
| q           | 显示面板编号                                                 |
| o           | 在当前窗口中选择下一面板                                     |
| 方向键      | 移动光标以选择面板                                           |
| {           | 向前置换当前面板                                             |
| }           | 向后置换当前面板                                             |
| Alt+o       | 逆时针旋转当前窗口的面板                                     |
| Ctrl+o      | 顺时针旋转当前窗口的面板                                     |

> Ctrl-b s			在 Tmux 的会话间切换
>
> Ctrl-b %			上下分屏
>
> Ctrl-b "			左右分屏
>
> Ctrl-b +方向键	进入对应的窗格
>
> Ctrl-b c			创建窗口
>
> Ctrl-b +数字		切换窗口 
>
> Ctrl-b &			离开一个会话[exited]
>
> Ctrl-b d			从一个会话中脱离[dettached]

## ssh

下载MobaXterm来在windows下使用ssh

连接命令：

```shell
ssh username@xxx.xxx.xxx.xxx
password
```

## 监控显卡

```shell
nvidia smi
```

[GPU使用表的具体含义](https://blog.csdn.net/bruce_0712/article/details/63683787)：

> 第一张表格中： 
>
> 第一栏的Fan：N/A是风扇转速，从0到100%之间变动，这个速度是计算机期望的风扇转速，实际情况下如果风扇堵转，可能打不到显示的转速。有的设备不会返回转速，因为它不依赖风扇冷却而是通过其他外设保持低温（比如我们实验室的服务器是常年放在空调房间里的）。
>
>
> 第二栏的Temp：是温度，单位摄氏度。 
>
> 第三栏的Perf：是性能状态，从P0到P12，P0表示最大性能，P12表示状态最小性能。 
>
> 第四栏下方的Pwr：是能耗，上方的Persistence-M：是持续模式的状态，持续模式虽然耗能大，但是在新的GPU应用启动时，花费的时间更少，这里显示的是off的状态。
>
>
> 第五栏的Bus-Id是涉及GPU总线的东西，domain:bus:device.function 
>
> 第六栏的Disp.A是Display Active，表示GPU的显示是否初始化。 
>
> 第五第六栏下方的Memory Usage是显存使用率。 
>
> 第七栏是浮动的GPU利用率。 
>
> 第八栏上方是关于ECC的东西。 
>
> 第八栏下方Compute M是计算模式。 
>
> 第二张表示每个进程占用的显存使用情况。

### 使用watch命令实时监测显卡

watch的基本用法：

```shell
watch [options]  command
```

最常用的参数是 -n， 后面指定是每多少秒来执行一次命令。

例如：设置每 10s 显示一次显存的情况

```shell
watch -n 10 nvidia-smi
```

## cifar10

继续调整网络结构和参数来增加准确率。